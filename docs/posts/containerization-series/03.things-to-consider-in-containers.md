# Containerizing IBM ACE: A Blog Series - Things to Consider in Containers

When people talk about running workloads in containers, it’s easy to get caught up in the promise. Portability, speed, 
consistency. Those benefits are real. But with IBM ACE, containers don’t magically fix your problems. They reshape them 
into new ones. Nothing too dramatic or unsolvable, but nothing to ignore either.

This isn’t a best practices guide. It’s a heads-up. A few things worth thinking through before they come back to bite. 
(Silver bullet, biting... let’s just hope it’s not a full moon.)

## Persistence & State

Containers are supposed to be ephemeral. Spin them up, throw them away, move on. But ACE doesn’t always fit that model. 
Some parts of the runtime actually need to stick around.

Here’s where persistence still matters:
- **Logs and monitoring data**. You probably want them to survive restarts.
- **ACE dashboards and bar file storage**. Technically disposable, but often reused.
- **File-based message flows**. Need shared network storage so files aren't lost on pod death.
- **MQ messages**. Must be persistent to avoid data loss.

This isn’t about persistence being “bad” or breaking container rules. It’s about knowing where state matters, and 
designing for it—on purpose. Skip that, and you’re setting yourself up for surprises. The not-fun kind.

## Networking

Networking in containers looks simple, right up until it isn't. With ACE, a few things tend to get messy if you don’t 
think them through early.

Start with the basics:
- **Internal service discovery**. How do your ACE runtimes talk to each other, to MQ, to anything else behind the curtain?
- **External exposure**. Whether you’re using ingress, routes, or load balancers, don't just expose everything and hope 
for the best. Controlled access matters. And yes, it helps if you know your hostnames ahead of time.
- **API traffic**. Consider putting an API gateway in front of your flows. It gives you more control, governance, and 
``security than pointing clients directly at your pods.

Networking isn't just plumbing. It decides how ACE connects, scales, and secures its communication. Get this wrong, and you're chasing ghosts in production.

## Scaling

Scaling is one of the biggest promises of containers. But with ACE, it’s not just about what’s technically possible. 
It’s also about what you can afford.

You’ve got two main levers:
- **Vertical scaling**. More CPU and memory for each container.
- **Horizontal scaling**. More replicas of the same container.

Autoscaling sounds great on paper. And it works, especially for smoothing out unpredictable workloads. But here’s the 
catch: more CPU usually means more PVUs (unless you have a very special licensing model). And more PVU means a bigger bill.

Planning your scaling strategy might feel like it defeats the point of autoscaling. In a way, it does. But if you want to 
stay in control, technically and financially, you have to plan for it anyway.

So yes, scale when you need to. Just keep an eye on what it’s costing you.

## Resource Management

CE runtimes can be heavy at startup, especially in tight environments. If you're seeing containers stuck in “Pending,” 
“CrashLoop,” or “OOMRestart,” you’re not alone.

The fix usually comes down to proper resource configuration (and code optimizations. Why cure what you can prevent. 
But that is a whole other discussion). Setting CPU and memory requests and limits is crucial, not only for performance 
but also to prevent the noisy neighbor effect in shared clusters.

As of Kubernetes 1.33, you can define **startup resources**. These give your pod a temporary boost during initialization 
before dropping to normal runtime levels. That extra headroom can make a real difference. Now we just need the ACE operator 
to catch up. And it will. Soon.

Then there are init containers. These run before your main runtime and can handle tasks like compilation or setup, if you 
use them wisely. Offloading work like that can reduce pressure on the ACE container itself. And if they finish within 
fifteen minutes, they usually do not count toward your PVU usage. That can add up quickly if you are running large 
workloads. 

And just to be clear, I am **not** taking any responsibility for how IBM counts your licenses. Use are your own risk and 
always check with your own account admin.

## Configuration Management & Secrets

Baking everything into an image can work, especially for simple setups. But most real-world deployments need more 
flexibility. You usually want to inject configuration at runtime.

Here are a few common approaches:
- **Environment variables**. Easy to set, but not great for sensitive data. That said, you can inject vault credentials 
at container startup, which makes it more secure and practical.
- **Mounting ConfigMaps or Secrets**. Inject files directly into the container's filesystem. Clean and manageable.
- **External secret stores**. More setup, but often worth it in complex or regulated environments. Think HashiCorp Vault, 
AWS Secrets Manager, or Azure Key Vault.
- **ACE vault**. Can be mounted as a file using Kubernetes secrets. Lets you use ACE’s native vault features in 
containerized deployments.

Chances are, you will end up with a mix of these. Whatever you pick, make sure it works across dev, test, and prod without 
turning into a config nightmare. You do not want to be troubleshooting a secret mount at two in the morning.

## Security & Monitoring

If you are using an operator or a cloud pak like CP4I, a lot of this is handled for you. If not, you need to think about 
a few essentials.

- **Logging and monitoring**. Make sure it is persistent and actually useful.
- **Image scanning**. Check your base and application images for known vulnerabilities.
- **Minimal base images**. Smaller is safer. Fewer layers, fewer surprises.
- **Secret handling**. Do more than drop them into environment variables.
- **Pipeline scanning**. Think SAST. Don’t let credentials or tokens leak into your builds.

None of this is optional in production. But it does not have to be painful. Build it in early and it fades into the 
background. Wait too long and it becomes technical debt. If you are aiming to shift security left, this is exactly where 
it starts.

## But can you choose?

Chances are slim that if you are developing applications, you are also maintaining the container platform. That is 
usually handled by a dedicated containers, cloud, or infra team. So some of these topics may already be solved for you.

At the same time, some solutions might introduce new issues. Not everything plays nicely with ACE runtimes, dashboards, 
or operators. So check with the responsible team and see if they are open to a healthy discussion.

And if you need to raise these questions, maybe this blog can help you frame the conversation.

## Closing Note

None of these points are meant to scare you away from containers. They are meant to spark the right questions before 
something breaks in production.

Containers give you speed and flexibility. But ACE still needs things like persistence, security, and predictable scaling. 
Think of this list like road signs. You do not have to stop at all of them, but you should at least know they are coming.

Ask the questions early. It is cheaper than fixing surprises later.

## PS, what about pipelines

There is also plenty to say about artifact storage, git providers, and pipeline platforms. But that is a topic for 
another time. That rabbit hole deserves its own blog.

---

## Other blogs from the Containerizing IBM ACE series

* [Containerizing IBM ACE: A Blog Series – The Basics](https://community.ibm.com/community/user/blogs/matthias-blomme/2025/09/02/containerizing-ibm-ace-a-blog-series-the-basics)
* [Containerizing IBM ACE: A Blog Series - Images vs Artifacts](https://community.ibm.com/community/user/blogs/matthias-blomme/2025/09/11/containerizing-ibm-ace-a-blog-series-images-vs-art)
* [Containerizing IBM ACE: A Blog Series - Things to Consider in Containers](https://community.ibm.com/community/user/blogs/matthias-blomme/2025/09/11/things-to-consider-in-containers)
* [Containerizing IBM ACE: A Blog Series - Scoping your runtimes](https://community.ibm.com/community/user/blogs/matthias-blomme/2025/09/20/scoping-your-runtimes)
* [Containerizing IBM ACE: A Blog Series - Container Startup Optimization](https://community.ibm.com/community/user/blogs/matthias-blomme/2025/09/26/container-startup-optimization)


---

Written by [Matthias Blomme](https://www.linkedin.com/in/matthiasblomme/)

\#IBMChampion \
\#AppConnectEnterprise(ACE)
